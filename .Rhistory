# MMS
l_outcomes_MET_qalys_eq_5d_3l_MMS <- outcomes(l_params_all = l_params_MET_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_qalys_eq_5d_3l_MMS)
l_outcomes_BUP_qalys_eq_5d_3l_MMS <- outcomes(l_params_all = l_params_BUP_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_qalys_eq_5d_3l_MMS)
ICER_qalys_eq_5d_3l_MMS <- ICER(outcomes_comp = l_outcomes_MET_qalys_eq_5d_3l_MMS, outcomes_int = l_outcomes_BUP_qalys_eq_5d_3l_MMS)
## Alternative (HUI-3) ##
# MMS
l_outcomes_MET_qalys_hui_3_MMS <- outcomes(l_params_all = l_params_MET_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_qalys_hui_3_MMS)
l_outcomes_BUP_qalys_hui_3_MMS <- outcomes(l_params_all = l_params_BUP_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_qalys_hui_3_MMS)
ICER_qalys_hui_3_MMS <- ICER(outcomes_comp = l_outcomes_MET_qalys_hui_3_MMS, outcomes_int = l_outcomes_BUP_qalys_hui_3_MMS)
# QALYs
df_qalys_low_MMS <- data.frame(ICER_qalys_low_MMS$df_incremental, ICER_qalys_low_MMS$df_icer)
df_qalys_high_MMS <- data.frame(ICER_qalys_high_MMS$df_incremental, ICER_qalys_high_MMS$df_icer)
df_qalys_eq_5d_3l_MMS <- data.frame(ICER_qalys_eq_5d_3l_MMS$df_incremental, ICER_qalys_eq_5d_3l_MMS$df_icer)
df_qalys_hui_3_MMS <- data.frame(ICER_qalys_hui_3_MMS$df_incremental, ICER_qalys_hui_3_MMS$df_icer)
View(df_qalys_eq_5d_3l_MMS)
#### Tornado Diagram ####
# Baseline
df_baseline_MMS <- data.frame(ICER_crime_costs_low_MMS$df_incremental, ICER_crime_costs_low_MMS$df_icer)
# MMS
l_outcomes_MET_MMS <- outcomes(l_params_all = l_params_MET_MMS, v_params_calib = v_calib_post_map)
l_outcomes_BUP_MMS <- outcomes(l_params_all = l_params_BUP_MMS, v_params_calib = v_calib_post_map)
ICER_MMS <- ICER(outcomes_comp = l_outcomes_MET_MMS, outcomes_int = l_outcomes_BUP_MMS)
df_qalys <- rbind(df_baseline_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
#### Tornado Diagram ####
# Baseline
df_baseline_MMS <- data.frame(ICER_MMS$df_incremental, ICER_MMS$df_icer)
# QALYs
#df_qalys_baseline <- data.frame(ICER_MMS$df_incremental, ICER_MMS$df_icer)
df_qalys_low_MMS <- data.frame(ICER_qalys_low_MMS$df_incremental, ICER_qalys_low_MMS$df_icer)
df_qalys_high_MMS <- data.frame(ICER_qalys_high_MMS$df_incremental, ICER_qalys_high_MMS$df_icer)
df_qalys_eq_5d_3l_MMS <- data.frame(ICER_qalys_eq_5d_3l_MMS$df_incremental, ICER_qalys_eq_5d_3l_MMS$df_icer)
df_qalys_hui_3_MMS <- data.frame(ICER_qalys_hui_3_MMS$df_incremental, ICER_qalys_hui_3_MMS$df_icer)
df_qalys <- rbind(df_baseline_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
View(df_qalys)
row.names(df_qalys) <- c("Baseline", "Low", "High", "EQ-5D-3L", "HUI-3")
View(df_qalys)
View(df_dsa_qalys_MMS)
#df_dsa_qalys_TS <- read.csv(file = "data/DSA/Trial Specification/qalys.csv", row.names = 1, header = TRUE)
# MMS
v_dsa_qalys_reduced_eq_5d_5l_MMS <- unlist(df_dsa_qalys_MMS["pe_reduced_eq_5d_5l",])
## Reduced (EQ-5D-5L) ##
# MMS
l_outcomes_MET_qalys_reduced_eq_5d_5l_MMS <- outcomes(l_params_all = l_params_MET_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_qalys_reduced_eq_5d_5l_MMS)
l_outcomes_BUP_qalys_reduced_eq_5d_5l_MMS <- outcomes(l_params_all = l_params_BUP_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_qalys_reduced_eq_5d_5l_MMS)
ICER_qalys_reduced_eq_5d_5l_MMS <- ICER(outcomes_comp = l_outcomes_MET_qalys_reduced_eq_5d_5l_MMS, outcomes_int = l_outcomes_BUP_qalys_reduced_eq_5d_5l_MMS)
# QALYs
#df_qalys_baseline <- data.frame(ICER_MMS$df_incremental, ICER_MMS$df_icer)
df_qalys_reduced_eq_5d_5l_MMS <- data.frame(ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental, ICER_qalys_reduced_eq_5d_5l_MMS$df_icer)
df_qalys_low_MMS <- data.frame(ICER_qalys_low_MMS$df_incremental, ICER_qalys_low_MMS$df_icer)
df_qalys_high_MMS <- data.frame(ICER_qalys_high_MMS$df_incremental, ICER_qalys_high_MMS$df_icer)
df_qalys_eq_5d_3l_MMS <- data.frame(ICER_qalys_eq_5d_3l_MMS$df_incremental, ICER_qalys_eq_5d_3l_MMS$df_icer)
df_qalys_hui_3_MMS <- data.frame(ICER_qalys_hui_3_MMS$df_incremental, ICER_qalys_hui_3_MMS$df_icer)
df_qalys <- rbind(df_baseline_MMS, df_qalys_reduced_eq_5d_5l_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
row.names(df_qalys) <- c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")
View(df_qalys)
View(df_qalys_reduced_eq_5d_5l_MMS)
# QALYs
#df_qalys_baseline <- data.frame(ICER_MMS$df_incremental, ICER_MMS$df_icer)
df_qalys_reduced_eq_5d_5l_MMS <- data.frame(ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_1yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_5yr,
ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_10yr)
View(df_qalys_reduced_eq_5d_5l_MMS)
df_qalys_low_MMS <- data.frame(ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_10yr)
# QALYs
df_qalys_baseline <- data.frame(ICER_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_MMS$df_icer$n_icer_TOTAL_5yr, ICER_MMS$df_icer$n_icer_TOTAL_10yr)
# QALYs
df_qalys_baseline_MMS <- data.frame(ICER_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_MMS$df_icer$n_icer_TOTAL_5yr, ICER_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_baseline_MMS <- data.frame(ICER_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_MMS$df_icer$n_icer_TOTAL_5yr, ICER_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_reduced_eq_5d_5l_MMS <- data.frame(ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_low_MMS <- data.frame(ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_high_MMS <- data.frame(ICER_qalys_high_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_high_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_high_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_high_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_high_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_high_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_eq_5d_3l_MMS <- data.frame(ICER_qalys_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_hui_3_MMS <- data.frame(ICER_qalys_hui_3_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_hui_3_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_hui_3_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_hui_3_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_hui_3_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_hui_3_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys <- rbind(df_qalys_baseline_MMS, df_qalys_reduced_eq_5d_5l_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
row.names(df_qalys) <- c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")
# QALYs
df_qalys_baseline_MMS <- data.frame(ICER_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_MMS$df_icer$n_icer_TOTAL_5yr, ICER_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_reduced_eq_5d_5l_MMS <- data.frame(ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_reduced_eq_5d_5l_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_reduced_eq_5d_5l_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_low_MMS <- data.frame(ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_low_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_low_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_high_MMS <- data.frame(ICER_qalys_high_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_high_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_high_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_high_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_high_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_high_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_eq_5d_3l_MMS <- data.frame(ICER_qalys_eq_5d_3l_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_eq_5d_3l_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_eq_5d_3l_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_eq_5d_3l_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_eq_5d_3l_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_eq_5d_3l_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys_hui_3_MMS <- data.frame(ICER_qalys_hui_3_MMS$df_incremental$n_inc_qalys_TOTAL_1yr, ICER_qalys_hui_3_MMS$df_incremental$n_inc_qalys_TOTAL_5yr,
ICER_qalys_hui_3_MMS$df_incremental$n_inc_qalys_TOTAL_10yr, ICER_qalys_hui_3_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_qalys_hui_3_MMS$df_icer$n_icer_TOTAL_5yr, ICER_qalys_hui_3_MMS$df_icer$n_icer_TOTAL_10yr)
df_qalys <- rbind(df_qalys_baseline_MMS, df_qalys_reduced_eq_5d_5l_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
row.names(df_qalys) <- c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")
View(df_qalys)
df_qalys <- rbind(df_qalys_baseline_MMS, df_qalys_reduced_eq_5d_5l_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
View(df_qalys_baseline_MMS)
row.names(df_qalys_baseline_MMS) <- row.names(df_qalys_reduced_eq_5d_5l_MMS) <- row.names(df_qalys_low_MMS) <- row.names(df_qalys_high_MMS) <- row.names(df_qalys_eq_5d_3l_MMS) <- row.names(df_qalys_hui_3_MMS) <- c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")
row.names(df_qalys_baseline_MMS) <- row.names(df_qalys_reduced_eq_5d_5l_MMS) <- row.names(df_qalys_low_MMS) <- row.names(df_qalys_high_MMS) <- row.names(df_qalys_eq_5d_3l_MMS) <-
row.names(df_qalys_hui_3_MMS) <- c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")
View(df_qalys_hui_3_MMS)
row.names(df_qalys_baseline_MMS) <- row.names(df_qalys_reduced_eq_5d_5l_MMS) <- row.names(df_qalys_low_MMS) <- row.names(df_qalys_high_MMS) <- row.names(df_qalys_eq_5d_3l_MMS) <-
row.names(df_qalys_hui_3_MMS) <- c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")
colnames(df_qalys_baseline_MMS) <- colnames(df_qalys_reduced_eq_5d_5l_MMS) <- colnames(df_qalys_low_MMS) <- colnames(df_qalys_high_MMS) <- colnames(df_qalys_eq_5d_3l_MMS) <- colnames(df_qalys_hui_3_MMS) <- c("inc_qalys_1yr", "inc_qalys_5yr", "inc_qalys_10yr", "icer_1yr", "icer_5yr", "icer_10yr")
df_qalys <- rbind(df_qalys_baseline_MMS, df_qalys_reduced_eq_5d_5l_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
row.names(df_qalys) <- c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")
View(df_qalys)
View(df_qalys)
library(data.table)
library(formattable)
library(tidyr)
View(df_qalys)
i1 <- df_qalys %>%
filter(`Scenario` %in%
c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3")) %>%
select(c(`Scenario`, `2011`, `2012`, `2013`, `2014`, `2015`, `2016`)) #%>%
austinData= fread('https://raw.githubusercontent.com/lgellis/MiscTutorial/master/Austin/Imagine_Austin_Indicators.csv', data.table=FALSE, header = TRUE, stringsAsFactors = FALSE)
View(austinData)
formattable(df_qalys)
i1 <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr))
View(i1)
df_qalys <- rbind(df_qalys_baseline_MMS, df_qalys_reduced_eq_5d_5l_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
df_qalys <- data.frame("Scenario" = c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3"), df_qalys)
df_qalys <- rbind(df_qalys_baseline_MMS, df_qalys_reduced_eq_5d_5l_MMS, df_qalys_low_MMS, df_qalys_high_MMS, df_qalys_eq_5d_3l_MMS, df_qalys_hui_3_MMS)
df_qalys <- data.frame("Scenario" = c("Baseline", "Reduced", "Low", "High", "EQ-5D-3L", "HUI-3"), df_qalys)
View(df_qalys)
View(df_qalys)
i1 <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = round(icer_1yr),
`ICER (5-year)` = round(icer_5yr),
`ICER (10-year)` = round(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
#mutate (`Difference` = round((`2011`-`2016`)/`2011`*100,2))
i1
formattable(df_qalys)
formattable(table_qalys)
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = round(icer_1yr),
`ICER (5-year)` = round(icer_5yr),
`ICER (10-year)` = round(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys)
customGreen0 <- "#DeF7E9"
customGreen <- "#71CA97"
customRed <- "#ff7f7f"
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = scales::dollard_format(icer_1yr),#round(icer_1yr),
`ICER (5-year)` = round(icer_5yr),
`ICER (10-year)` = round(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = paste0('$', round(icer_1yr,0)),#round(icer_1yr),
`ICER (5-year)` = round(icer_5yr),
`ICER (10-year)` = round(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = round(icer_1yr),
`ICER (5-year)` = round(icer_5yr),
`ICER (10-year)` = round(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr),
`ICER (5-year)` = round(icer_5yr),
`ICER (10-year)` = round(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr),
`ICER (5-year)` = accounting(icer_5yr),
`ICER (10-year)` = accounting(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr),
`ICER (10-year)` = accounting(icer_10yr)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
library(RColorBrewer)
mypalette <- brewer.pal(2,"PuOr")
mypalette <- brewer.pal(3,"PuOr")
qaly_palette <- brewer.pal(3,"PuOr")
qaly_palette[1]
qaly_palette <- brewer.pal(3,"PuOr")
qaly_palette[1]
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (5-year)` = color_tile(customGreen, customGreen0),
`Incremental QALYs (10-year)` = color_tile(customGreen, customGreen0),
`ICER (1-year)` = color_tile(customGreen, customGreen0),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (5-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (10-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`ICER (1-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (5-year)` = color_tile(customGreen, customGreen0),
`ICER (10-year)` = color_tile(customGreen, customGreen0)))
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (5-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (10-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`ICER (1-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (5-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (10-year)` = color_tile(qaly_palette[2], qaly_palette[3])))
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (5-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (10-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`ICER (1-year)` = color_tile(qaly_palette[3], qaly_palette[2]),
`ICER (5-year)` = color_tile(qaly_palette[3], qaly_palette[2]),
`ICER (10-year)` = color_tile(qaly_palette[3], qaly_palette[2])))
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (5-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (10-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`ICER (1-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (5-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (10-year)` = color_tile(qaly_palette[2], qaly_palette[3])))
qaly_palette <- brewer.pal(3,"RdYlBu")
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (5-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (10-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`ICER (1-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (5-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (10-year)` = color_tile(qaly_palette[2], qaly_palette[3])))
qaly_palette <- brewer.pal(3,"PuOr")
#qaly_palette <- brewer.pal(3,"RdYlBu")
#qaly_palette[1]
# table
table_qalys <- df_qalys %>%
mutate(`Incremental QALYs (1-year)` = round(inc_qalys_1yr, 3),
`Incremental QALYs (5-year)` = round(inc_qalys_5yr, 3),
`Incremental QALYs (10-year)` = round(inc_qalys_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental QALYs (1-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (5-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`Incremental QALYs (10-year)` = color_tile(qaly_palette[1], qaly_palette[2]),
`ICER (1-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (5-year)` = color_tile(qaly_palette[2], qaly_palette[3]),
`ICER (10-year)` = color_tile(qaly_palette[2], qaly_palette[3])))
### Crime costs ###
df_crime_costs_baseline_MMS <- data.frame(ICER_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_MMS$df_icer$n_icer_TOTAL_5yr, ICER_MMS$df_icer$n_icer_TOTAL_10yr)
df_crime_costs_low_MMS <- data.frame(ICER_crime_costs_low_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_crime_costs_low_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_crime_costs_low_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_crime_costs_low_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_crime_costs_low_MMS$df_icer$n_icer_TOTAL_5yr, ICER_crime_costs_low_MMS$df_icer$n_icer_TOTAL_10yr)
df_crime_costs_high_MMS <- data.frame(ICER_crime_costs_high_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_crime_costs_high_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_crime_costs_high_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_crime_costs_high_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_crime_costs_high_MMS$df_icer$n_icer_TOTAL_5yr, ICER_crime_costs_high_MMS$df_icer$n_icer_TOTAL_10yr)
df_crime_costs_alt_MMS <- data.frame(ICER_crime_costs_alt_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_crime_costs_alt_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_crime_costs_alt_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_crime_costs_alt_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_crime_costs_alt_MMS$df_icer$n_icer_TOTAL_5yr, ICER_crime_costs_alt_MMS$df_icer$n_icer_TOTAL_10yr)
colnames(df_crime_costs_baseline_MMS) <- colnames(df_crime_costs_low_MMS) <- colnames(df_crime_costs_high_MMS) <- colnames(df_crime_costs_alt_MMS) <- c("inc_costs_1yr", "inc_costs_5yr", "inc_costs_10yr", "icer_1yr", "icer_5yr", "icer_10yr")
df_crime_costs <- rbind(df_crime_costs_baseline_MMS, df_crime_costs_low_MMS, df_crime_costs_high_MMS, df_crime_costs_alt_MMS)
df_crime_costs <- data.frame("Scenario" = c("Baseline", "Low", "High", "Alternative"), df_crime_costs)
###################
### Crime Costs ###
###################
# Low
# MMS
l_outcomes_MET_crime_costs_low_MMS <- outcomes(l_params_all = l_params_MET_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_crime_costs_low_MMS)
l_outcomes_BUP_crime_costs_low_MMS <- outcomes(l_params_all = l_params_BUP_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_crime_costs_low_MMS)
ICER_crime_costs_low_MMS <- ICER(outcomes_comp = l_outcomes_MET_crime_costs_low_MMS, outcomes_int = l_outcomes_BUP_crime_costs_low_MMS)
# TS
# High
# MMS
l_outcomes_MET_crime_costs_high_MMS <- outcomes(l_params_all = l_params_MET_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_crime_costs_high_MMS)
l_outcomes_BUP_crime_costs_high_MMS <- outcomes(l_params_all = l_params_BUP_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_crime_costs_high_MMS)
ICER_crime_costs_high_MMS <- ICER(outcomes_comp = l_outcomes_MET_crime_costs_high_MMS, outcomes_int = l_outcomes_BUP_crime_costs_high_MMS)
# TS
# Alternative (Krebs et al. 2014)
# MMS
l_outcomes_MET_crime_costs_alt_MMS <- outcomes(l_params_all = l_params_MET_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_crime_costs_alt_MMS)
l_outcomes_BUP_crime_costs_alt_MMS <- outcomes(l_params_all = l_params_BUP_MMS, v_params_calib = v_calib_post_map, v_params_dsa = v_dsa_crime_costs_alt_MMS)
ICER_crime_costs_alt_MMS <- ICER(outcomes_comp = l_outcomes_MET_crime_costs_alt_MMS, outcomes_int = l_outcomes_BUP_crime_costs_alt_MMS)
### Crime costs ###
df_crime_costs_baseline_MMS <- data.frame(ICER_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_MMS$df_icer$n_icer_TOTAL_5yr, ICER_MMS$df_icer$n_icer_TOTAL_10yr)
df_crime_costs_low_MMS <- data.frame(ICER_crime_costs_low_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_crime_costs_low_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_crime_costs_low_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_crime_costs_low_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_crime_costs_low_MMS$df_icer$n_icer_TOTAL_5yr, ICER_crime_costs_low_MMS$df_icer$n_icer_TOTAL_10yr)
df_crime_costs_high_MMS <- data.frame(ICER_crime_costs_high_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_crime_costs_high_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_crime_costs_high_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_crime_costs_high_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_crime_costs_high_MMS$df_icer$n_icer_TOTAL_5yr, ICER_crime_costs_high_MMS$df_icer$n_icer_TOTAL_10yr)
df_crime_costs_alt_MMS <- data.frame(ICER_crime_costs_alt_MMS$df_incremental$n_inc_costs_TOTAL_1yr, ICER_crime_costs_alt_MMS$df_incremental$n_inc_costs_TOTAL_5yr,
ICER_crime_costs_alt_MMS$df_incremental$n_inc_costs_TOTAL_10yr, ICER_crime_costs_alt_MMS$df_icer$n_icer_TOTAL_1yr,
ICER_crime_costs_alt_MMS$df_icer$n_icer_TOTAL_5yr, ICER_crime_costs_alt_MMS$df_icer$n_icer_TOTAL_10yr)
colnames(df_crime_costs_baseline_MMS) <- colnames(df_crime_costs_low_MMS) <- colnames(df_crime_costs_high_MMS) <- colnames(df_crime_costs_alt_MMS) <- c("inc_costs_1yr", "inc_costs_5yr", "inc_costs_10yr", "icer_1yr", "icer_5yr", "icer_10yr")
df_crime_costs <- rbind(df_crime_costs_baseline_MMS, df_crime_costs_low_MMS, df_crime_costs_high_MMS, df_crime_costs_alt_MMS)
df_crime_costs <- data.frame("Scenario" = c("Baseline", "Low", "High", "Alternative"), df_crime_costs)
# Custom table output
# set colours
crime_costs_palette <- brewer.pal(3,"BrBG")
# table
table_crime_costs <- df_crime_costs %>%
mutate(`Incremental Costs (1-year)` = round(inc_costs_1yr, 3),
`Incremental costs (5-year)` = round(inc_costs_5yr, 3),
`Incremental Costs (10-year)` = round(inc_costs_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental QALYs (1-year)`, `Incremental QALYs (5-year)`, `Incremental QALYs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_qalys, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental Costs (1-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`Incremental Costs (5-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`Incremental Costs (10-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`ICER (1-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (5-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (10-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3])))
# set colours
crime_costs_palette <- brewer.pal(3,"BrBG")
# table
table_crime_costs <- df_crime_costs %>%
mutate(`Incremental Costs (1-year)` = round(inc_costs_1yr, 3),
`Incremental costs (5-year)` = round(inc_costs_5yr, 3),
`Incremental Costs (10-year)` = round(inc_costs_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental Costs (1-year)`, `Incremental Costs (5-year)`, `Incremental Costs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_crime_costs, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental Costs (1-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`Incremental Costs (5-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`Incremental Costs (10-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`ICER (1-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (5-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (10-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3])))
# table
table_crime_costs <- df_crime_costs %>%
mutate(`Incremental Costs (1-year)` = round(inc_costs_1yr, 3),
`Incremental costs (5-year)` = round(inc_costs_5yr, 3),
`Incremental Costs (10-year)` = round(inc_costs_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental Costs (1-year)`, `Incremental Costs (5-year)`, `Incremental Costs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
View(df_crime_costs)
# set colours
crime_costs_palette <- brewer.pal(3,"BrBG")
# table
table_crime_costs <- df_crime_costs %>%
mutate(`Incremental Costs (1-year)` = round(inc_costs_1yr, 3),
`Incremental Costs (5-year)` = round(inc_costs_5yr, 3),
`Incremental Costs (10-year)` = round(inc_costs_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental Costs (1-year)`, `Incremental Costs (5-year)`, `Incremental Costs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_crime_costs, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental Costs (1-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`Incremental Costs (5-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`Incremental Costs (10-year)` = color_tile(crime_costs_palette[1], crime_costs_palette[2]),
`ICER (1-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (5-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (10-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3])))
# table
table_crime_costs <- df_crime_costs %>%
mutate(`Incremental Costs (1-year)` = round(inc_costs_1yr, 3),
`Incremental Costs (5-year)` = round(inc_costs_5yr, 3),
`Incremental Costs (10-year)` = round(inc_costs_10yr, 3),
`ICER (1-year)` = accounting(icer_1yr, 0),
`ICER (5-year)` = accounting(icer_5yr, 0),
`ICER (10-year)` = accounting(icer_10yr, 0)) %>%
select(c(`Scenario`, `Incremental Costs (1-year)`, `Incremental Costs (5-year)`, `Incremental Costs (10-year)`, `ICER (1-year)`, `ICER (5-year)`, `ICER (10-year)`)) #%>%
formattable(table_crime_costs, align =c("l","c","c","c","c", "c", "c"), list(
`Scenario` = formatter("span", style = ~ style(color = "grey",font.weight = "bold")),
`Incremental Costs (1-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[1]),
`Incremental Costs (5-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[1]),
`Incremental Costs (10-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[1]),
`ICER (1-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (5-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3]),
`ICER (10-year)` = color_tile(crime_costs_palette[2], crime_costs_palette[3])))
